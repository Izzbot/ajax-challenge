<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Product Comments</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="css/main.css">

        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.2/angular.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.11.2/ui-bootstrap-tpls.min.js"></script>
        <script src="js/app.js"></script>

    </head>
    <body>

        <main class="container" ng-app="CommenterApp" ng-controller="CommentsController">

	            <section class="box-wrapper">
	                <img src="img/super-bass-o-matic-76.jpg" alt="product picture" class="product-picture">
	                <h1>The Super Bass-o-Matic '76</h1>
	                <p>Skateboard ethical pickled shabby chic paleo photo booth pop-up. Paleo gluten-free sustainable, normcore tousled freegan typewriter retro keytar Godard readymade Neutra messenger bag High Life mumblecore. Kickstarter hashtag Vice kogi meggings freegan cred.</p>
	            </section>
	
	
	            <section class="box-wrapper">
					<div class="row">
						<div class="col-sm-10">
			                <h2>Comments</h2>
						</div>
						<div class="col-sm-2">
			                <img src="img/ajax-spinner-sm.gif" alt="ajax animation" ng-if="loading"/>
		                    <button class="btn btn-primary pull-right" ng-click="refreshComments()">Refresh</button>
						</div>
					</div>

					<section class="comment" ng-repeat="comment in comments">
						<div class="comment-title-row row">
							<div class="col-sm-3">
							  {{comment.name}} : 
							</div>
							<div class="col-sm-9">
							  {{comment.title}}
							</div>
						</div>

						<div class="comment-border-row row">
							<div class="col-sm-2">
							  <rating max="5" ng-model="comment.rating" readonly="true"></rating>
							</div>
							<div class="col-sm-10">
								<div class="pull-right">
									<span>{{comment.score}}</span>
	                                <span class="glyphicon glyphicon-thumbs-up" ng-click="changeScore(comment, 1)"></span>
	                                <span class="glyphicon glyphicon-thumbs-down" ng-click="changeScore(comment, -1)"></span>
								</div>
							</div>
						</div>
						<div class="comment-body-row row">
							<div class="col-sm-10">
								{{comment.body}}
							</div>	
							<div class="col-sm-2">
		                        <button type="delete" class="btn btn-xs pull-right" ng-disabled="loading" ng-click="deleteComment(comment)">Delete</button>
							</div>	
						</div>
					</section>
	            </section>

            <section class="box-wrapper">
                <h2>Add a Comment</h2>
                <form role="form" class="form-horizontal">
                    <div class="form-group">
						<div class="col-sm-1">
	                        <label for="commenter">Name</label>
						</div>
						<div class="col-sm-5">
	                        <input type="text" id="commenter" class="form-control"
	                               placeholder="Your Name..." ng-model="newComment.name"/>							
						</div>
	                    <div class="col-sm-4">
	                        <label for="comment-rating" class="control-label">Rating</label>
	                        <rating max="5" ng-model="newComment.rating"></rating>
						</div>
	                    <div class="col-sm-2">
                            <img src="img/ajax-spinner-sm.gif" alt="ajax animation" ng-if="loading"/>
	                        <button type="submit" class="btn btn-primary pull-right" ng-disabled="loading" ng-click="addComment()">Submit Comment</button>
	                    </div>
					</div>

                    <div class="form-group">
	                    <div class="col-sm-1">						
	                        <label for="comment-title" class="control-label">Title</label>
	           	        </div>
	                    <div class="col-sm-11">
	                        <input type="text" id="comment-title" class="form-control"
	                               placeholder="Title..." ng-model="newComment.title"/>
	           	        </div>
					</div>

                    <div class="form-group">
	                    <div class="col-sm-1">
	                        <label for="comment-body" class="control-label">Comment</label>
	           	        </div>
	                    <div class="col-sm-11">
							<textarea class="form-control" rows="4" id="comment-body"
								placeholder="Your comment..." ng-model="newComment.body"></textarea>
	                    </div>
					</div>

                    <div class="form-group">
                    </div>
                </form>

            </section>

        </main>

    </body>
</html>